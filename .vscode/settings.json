{
    "plantuml.diagramsRoot": "assets/diagrams/src",
    "plantuml.exportFormat": "svg",
    "plantuml.exportOutDir": "assets/diagrams/out",
    "plantuml.java": "C:\\Program Files\\OpenJDK\\jdk-22.0.2\\bin\\java.exe",
    "plantuml.render": "Local",
    "python.analysis.autoIndent": true,
    "python.analysis.completeFunctionParens": true,
    "python.analysis.diagnosticSeverityOverrides": {
        "reportDuplicateImport": "warning",
        "reportUndefinedVariable": "information",
        "reportUnusedVariable": "information"
    },
    "python.analysis.extraPaths": [
        "${workspaceFolder}/shared/python"
    ],
    "python.defaultInterpreterPath": "/workspaces/Apim-Samples/.venv/bin/python",
    "python.pythonPath": "/workspaces/Apim-Samples/.venv/bin/python",
    "python.envFile": "${workspaceFolder}/.env",
    "python.terminal.activateEnvironment": true,
    "python.terminal.activateEnvInCurrentTerminal": true,
    "jupyter.askForKernelRestart": false,
    "jupyter.interactiveWindow.textEditor.executeSelection": true,
    "jupyter.notebookFileRoot": "${workspaceFolder}",
    "jupyter.kernels.excludePythonEnvironments": [
        "**/anaconda3/**",
        "**/conda/**",
        "**/miniconda3/**",
        "**/python3.*",
        "*/site-packages/*",
        "/bin/python",
        "/bin/python3",
        "/opt/python/*/bin/python*",
        "/usr/bin/python",
        "/usr/bin/python3",
        "/usr/local/bin/python",
        "/usr/local/bin/python3",
        "python",
        "python3"
    ],
    "jupyter.kernels.trusted": [
        "/workspaces/Apim-Samples/.venv/bin/python"
    ],
    "terminal.integrated.env.windows": {
        "PATH": "${env:PATH}"
    },
    
    // Auto-show terminal during Codespace startup
    "terminal.integrated.showExitAlert": false,
    "terminal.integrated.focusAfterRun": "terminal",
    "terminal.integrated.defaultProfile.linux": "bash",
    "workbench.panel.defaultLocation": "bottom",
    "workbench.startupEditor": "none",
    "workbench.panel.defaultPanelHeight": 350,
    "workbench.view.alwaysShowHeaderActions": true,
    "terminal.integrated.tabs.enabled": true,
    "terminal.integrated.tabs.location": "left",
    "workbench.editor.showTabs": "single",
    
      // XML and APIM Policy Configuration - Conservative formatting to preserve policy expressions
    "xml.validation.enabled": false,
    "xml.validation.namespaces.enabled": "never",
    "xml.validation.schema.enabled": "never",
    "xml.validation.disallowDocTypeDecl": false,
    "xml.validation.resolveExternalEntities": false,
    "xml.format.enabled": false,
    "xml.format.emptyElements": "ignore",
    "xml.format.enforceQuoteStyle": "preferred",
    "xml.format.preserveEmptyContent": true,
    "xml.format.preserveSpace": [
        "xsl:text",
        "xsl:comment",
        "xsl:processing-instruction",
        "literal",
        "xsl:preserve-space",
        "fragment",
        "condition"
    ],
    "xml.format.splitAttributes": "preserve",
    "xml.format.joinCDATALines": false,
    "xml.format.joinCommentLines": false,
    "xml.format.joinContentLines": false,
    "xml.format.spaceBeforeEmptyCloseTag": true,
    "xml.format.xsiSchemaLocationSplit": "onPair",
    "xml.completion.autoCloseTags": true,
    "xml.codeLens.enabled": false,
    "xml.preferences.includeSchemaAssociations": "never",
    "xml.trace.server": "off",
    
    // File associations for APIM policies
    "files.associations": {
        "*.xml": "xml",
        "**/apim-policies/*.xml": "xml",
        "**/samples/**/*.xml": "xml",
        "pf-*.xml": "xml",
        "hr_*.xml": "xml"
    },
    
    // Disable HTML validation for XML files
    "html.validate": false,
    
    // APIM specific settings - let the APIM extension handle validation
    "azureApiManagement.policies.validateSyntax": true,
    "azureApiManagement.policies.showCodeLens": true,
      // Language mode overrides for APIM policy files - DISABLE FORMATTING TO PRESERVE POLICY EXPRESSIONS
    "[xml]": {
        "editor.quickSuggestions": {
            "other": true,
            "comments": false,
            "strings": true
        },
        "editor.autoClosingBrackets": "always",
        "editor.autoClosingQuotes": "always",
        "editor.suggest.insertMode": "replace",
        "editor.formatOnSave": false,
        "editor.formatOnPaste": false,
        "editor.formatOnType": false
    }
}
